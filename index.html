<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mumy (Manage Your Money)</title>
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <!-- Splash Screen -->
  <div class="splash-screen" id="splash-screen">
    <img src="logoblack_mumy.jpg" alt="Mumy Logo" class="logo">
  </div>
  
  <!-- Loading Screen -->
  <div class="loading-screen" id="loading-screen">
    <i class="fas fa-paper-plane plane"></i>
    <div class="loading-text">Memproses data..</div>
  </div>

  <!-- Welcome Screen -->
  <div class="welcome-screen" id="welcome-screen">
    <img src="maskor_app.png" alt="Maskot Mumy">
        <div class="welcome-text" id="welcome-text"> Meraih masa depan sukses bersama Beasiswa Unggulan dengan menjadi Insan Cerdas dan Kompetitif.</div>
  </div>

  <!-- Authentication Container (Login/Register) -->
  <div class="auth-container" id="auth-container">
    <h2 id="auth-title">Log in</h2>
    <div class="input-group">
      <input type="email" id="auth-email" placeholder="E-mail" required>
    </div>
    <div class="input-group">
      <input type="password" id="auth-password" placeholder="Password" required>
      <i class="fas fa-eye" id="toggle-password"></i>
    </div>
    <button class="auth-btn" id="auth-btn">Login</button>
    <div class="signup-link" id="auth-switch-link">
      Belum punya akun? <a href="#" id="switch-to-register">Register di sini</a>
    </div>
  </div>
  
  <!-- Notification Container -->
  <div id="notification-container"></div>
  
  <!-- Main Application Container -->
  <div class="container-fluid" id="app-container" style="display: none;">
    <div class="navbar-dashboard">
      <h2>Mumy (Manage Your Money)</h2>
    </div>
    <div class="main-content text-center" id="main-content">
      <!-- Dashboard Section -->
      <div class="section active" id="dashboard-section">
        <h3 class="mb-4">Dashboard</h3>
        <button class="menu-button" id="menu-add-expense">
          <i class="fas fa-plus-circle"></i> Tambah Pengeluaran
        </button>
        <button class="menu-button" id="menu-daily-expense">
          <i class="fas fa-calendar-day"></i> Pengeluaran Harian
        </button>
        <button class="menu-button" id="menu-category-expense">
          <i class="fas fa-chart-pie"></i> Pengeluaran per Kategori
        </button>
        <button class="menu-button" id="menu-print-expense">
          <i class="fas fa-print"></i> Cetak Pengeluaran
        </button>
        <button class="menu-button" id="menu-history-expense">
          <i class="fas fa-history"></i> Riwayat Pengeluaran
        </button>
      </div>

      <!-- Add Expense Section -->
      <div class="section" id="add-expense-section">
        <h3 class="mb-4">Tambah Pengeluaran</h3>
        <form id="expense-form" class="expense-form">
          <input type="text" id="barang" class="form-control" placeholder="Barang" required />
          <input type="number" id="amount" class="form-control" placeholder="Jumlah (Rp)" required />
          <input type="hidden" id="kategori-selected" />
          <!-- Kategori Selection with Dark Theme -->
          <!-- Kategori Selection with Dark Theme -->
<div class="category-dropdown">
  <button type="button" class="form-control text-start" id="kategori-button">Pilih Kategori <i class="fas fa-chevron-down float-end"></i></button>
  <div class="category-options" id="category-options">
    <button type="button" data-category="makanan berat">Makanan Berat</button>
    <button type="button" data-category="makanan dan minuman ringan">Makanan dan Minuman Ringan</button>
    <button type="button" data-category="pakaian">Pakaian</button>
    <button type="button" data-category="elektronik">Elektronik</button>
    <button type="button" data-category="peralatan rumah tangga">Peralatan Rumah Tangga</button>
    <button type="button" data-category="perlengkapan alat tulis">Perlengkapan Alat Tulis</button>
    <button type="button" data-category="kesehatan dan obat-obatan">Kesehatan dan Obat-obatan</button>
    <button type="button" data-category="pendidikan">Pendidikan</button>
    <button type="button" data-category="transportasi">Transportasi</button>
    <button type="button" data-category="hiburan">Hiburan</button>
    <button type="button" data-category="aksesoris">Aksesoris</button>
    <button type="button" data-category="perawatan tubuh">Perawatan Tubuh</button>
    <!-- Tambahkan atribut data-category di sini -->
    <button type="button" id="add-new-category" data-category="add-new-category">Tambahkan Kategori Baru</button>
    <div class="add-category-input" id="add-category-input">
      <input type="text" id="new-category-input" class="form-control" placeholder="Kategori Baru"/>
      <button type="button" class="btn btn-success btn-sm mt-2" id="save-new-category">Simpan</button>
    </div>
  </div>
</div>
     <button type="submit" class="btn btn-primary w-100"><i class="fas fa-plus me-2"></i> Tambah</button>
        </form>
        <div class="expenses-list" id="expenses-list">
          <h5>Riwayat Pengeluaran</h5>
          <ul id="expenses-ul"></ul>
        </div>
        <button class="back-button" id="back-to-dashboard"><i class="fas fa-arrow-left me-2"></i> Kembali ke Dashboard</button>
      </div>

      <!-- Daily Expense Section -->
      <div class="section" id="daily-expense-section">
        <h3 class="mb-4">Pengeluaran Harian</h3>
        <button class="tips-button mb-3" id="daily-tips-button"><i class="fas fa-info-circle me-2"></i> Tips untuk pengguna ponsel</button>
        <div class="chart-container">
          <canvas id="daily-expense-chart"></canvas>
        </div>
        <div class="mt-3">
          <span id="total-pengeluaran" class="fw-bold mb-3 d-block">Total Pengeluaran per [Tanggal Bulan Tahun] : Rp0</span>
          <p class="fw-bold" id="daily-summary">Rata-rata Pengeluaran Per Hari: Rp0 | Pengeluaran Tertinggi: - | Pengeluaran Terendah: -</p>
        </div>
        <button class="back-button" id="back-to-dashboard-2"><i class="fas fa-arrow-left me-2"></i> Kembali ke Dashboard</button>
      </div>

      <!-- Category Expense Section -->
      <div class="section" id="category-expense-section">
        <h3 class="mb-4">Pengeluaran per Kategori</h3>
        <button class="tips-button mb-3" id="category-tips-button"><i class="fas fa-info-circle me-2"></i> Tips</button>
        <div class="chart-container">
          <canvas id="category-expense-chart"></canvas>
        </div>
        <!-- Enhanced Category Expense Features -->
        <div class="category-expense-enhanced">
          <h4>Grafik Pengeluaran per Kategori</h4>
          <div class="row">
            <div class="col-md-6 form-group">
              <label for="select-category-month">Pilih Bulan:</label>
              <select id="select-category-month" class="form-select">
                <option value="">Semua Bulan</option>
                <!-- Options akan diisi oleh JavaScript -->
              </select>
            </div>
            <div class="col-md-6 form-group">
              <label for="select-category">Pilih Kategori:</label>
              <select id="select-category" class="form-select" disabled>
                <option value="">Pilih Kategori</option>
                <!-- Options akan diisi oleh JavaScript -->
              </select>
            </div>
          </div>
          <div class="chart-container mt-4">
            <canvas id="category-daily-chart"></canvas>
          </div>
          <div class="statistic" id="category-statistic">
            <!-- Statistik akan diisi oleh JavaScript -->
          </div>
        </div>
        <button class="back-button" id="back-to-dashboard-3"><i class="fas fa-arrow-left me-2"></i> Kembali ke Dashboard</button>
      </div>

      <!-- Print Expense Section -->
      <div class="section" id="print-expense-section">
        <h3 class="mb-4">Cetak Pengeluaran</h3>
          <!-- Formulir Cetak PDF -->
<form id="print-expense-form">
  <div class="mb-3">
    <label for="print-year" class="form-label">Tahun</label>
    <select id="print-year" class="form-select" required>
      <!-- Opsi Tahun diisi secara dinamis -->
    </select>
  </div>
  <div class="mb-3">
    <label for="print-month" class="form-label">Bulan</label>
    <select id="print-month" class="form-select" required>
      <!-- Opsi Bulan diisi secara dinamis -->
    </select>
  </div>
  <div class="mb-3">
    <label for="tujuan-pengeluaran" class="form-label">Tujuan Pengeluaran</label>
    <input type="text" id="tujuan-pengeluaran" class="form-control" placeholder="Misalnya: Acara Osis" required>
  </div>
  <div class="mb-3">
    <label for="print-monthly-target" class="form-label">Saldo Awal (Rp)</label>
    <input type="number" id="print-monthly-target" class="form-control" placeholder="Masukkan Saldo Awal" required>
  </div>
  <button type="submit" class="btn btn-primary">Cetak PDF</button>
</form>

        <button class="back-button" id="back-to-dashboard-4"><i class="fas fa-arrow-left me-2"></i> Kembali ke Dashboard</button>
      </div>

      <!-- History Expense Section -->
      <div class="section" id="history-expense-section">
        <h3 class="mb-4">Riwayat Pengeluaran</h3>
        <div class="mb-3">
          <select id="history-year" class="form-select mb-3">
            <option value="">Pilih Tahun</option>
            <!-- Options akan diisi oleh JavaScript -->
          </select>
          <select id="history-month" class="form-select">
            <option value="">Pilih Bulan</option>
            <!-- Options akan diisi oleh JavaScript -->
          </select>
        </div>
        <div id="history-content" style="max-height: 500px; overflow-y: auto;">
          <!-- Konten riwayat akan diisi oleh JavaScript -->
        </div>
        <button class="back-button" id="back-to-dashboard-5"><i class="fas fa-arrow-left me-2"></i> Kembali ke Dashboard</button>
      </div>
    </div>

    <!-- Logout Button Fixed at Bottom Right within App -->
    <button class="logout-button btn" id="logout-btn"><i class="fas fa-sign-out-alt me-2"></i> Logout</button>
  </div>

  <!-- Tips Modal -->
  <div class="modal fade" id="tipsModal" tabindex="-1" aria-labelledby="tipsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="tipsModalLabel">Tips</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body modal-tips-content">
          <!-- Isi akan diisi oleh JavaScript berdasarkan tombol yang ditekan -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Print Animation -->
  <div class="print-animation" id="print-animation">
    <div class="spinner">
      <i class="fas fa-spinner fa-spin"></i>
    </div>
    <div class="print-text">Sedang mencetak...</div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- jsPDF and AutoTable Plugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

  <!-- Custom JavaScript -->
  <script src="script.js"></script>
</body>
</html>